<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Player</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 50px;
        }
        audio {
            margin-top: 20px;
        }
        button {
            margin-top: 20px;
        }
        ul {
            list-style-type: none;
            padding: 0;
            width: 80%;
        }
        li {
            display: flex;
            align-items: center;
            padding: 10px;
            margin: 5px 0;
            cursor: pointer;
            border: 1px solid #ccc;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        li:hover {
            background-color: #f0f0f0;
        }
        li img {
            
            height: 50px;
            margin-right: 15px;
            border-radius: 5px;
        }
        li .details {
            display: flex;
            flex-direction: column;
        }
        li .details .name {
            font-weight: bold;
        }
        .playing {
            background-color: #d3d3d3;
        }
    </style>
</head>
<body>

    <h1>Audio Player</h1>
    <audio id="audioPlayer" controls></audio>
    <button id="playButton">Play All</button>
    <ul id="playlist"></ul>

    <script>
        const audioList = [
            {"no":1, "name":"MeerKats", "image":"https://www.childrenfun.com.cn/download/2020/20200554B/src/1/images/banner.jpg","url":"http://cdndigital.childrenfun.com.cn/download/2020/20200554B/src/1/mp3/story.mp3"},
            {"no":2,"name":"Pyramids","image":"https://www.childrenfun.com.cn/download/2020/20200554B/src/2/images/banner.jpg", "url":"http://cdndigital.childrenfun.com.cn/download/2020/20200554B/src/2/mp3/story.mp3"},
            {"no":3,"name":"Follow Me!","image":"https://www.childrenfun.com.cn/download/2020/20200554B/src/3/images/banner.jpg", "url":"http://cdndigital.childrenfun.com.cn/download/2020/20200554B/src/3/mp3/story.mp3"},
            {"no":4,"name":"Giraffes", "image":"https://www.childrenfun.com.cn/download/2020/20200554B/src/4/images/banner.jpg", "url":"http://cdndigital.childrenfun.com.cn/download/2020/20200554B/src/4/mp3/story.mp3"},
            {"no":5,"name":"Polar Bears", "image":"https://www.childrenfun.com.cn/download/2020/20200554B/src/5/images/banner.jpg","url":"http://cdndigital.childrenfun.com.cn/download/2020/20200554B/src/5/mp3/story.mp3"},
            {"no":6,"name":"Seed to Plant", "image":"https://www.childrenfun.com.cn/download/2020/20200554B/src/6/images/banner.jpg","url":"http://cdndigital.childrenfun.com.cn/download/2020/20200554B/src/6/mp3/story.mp3"}
        ];

        const audioPlayer = document.getElementById('audioPlayer');
        const playButton = document.getElementById('playButton');
        const playlist = document.getElementById('playlist');

        let currentTrack = 0;

        // Initialize playlist
        audioList.forEach((track, index) => {
            const listItem = document.createElement('li');
            listItem.dataset.index = index;
            listItem.innerHTML = `
                <img src="${track.image}" alt="${track.name}">
                <div class="details">
                    <div class="no">No. ${track.no}</div>
                    <div class="name">${track.name}</div>
                </div>
            `;
            playlist.appendChild(listItem);

            listItem.addEventListener('click', () => {
                currentTrack = index;
                playTrack();
            });
        });

        audioPlayer.src = audioList[currentTrack].url;
        highlightPlayingTrack();

        audioPlayer.addEventListener('ended', () => {
            currentTrack++;
            if (currentTrack < audioList.length) {
                playTrack();
            } else {
                currentTrack = 0;
                highlightPlayingTrack();
            }
        });

        playButton.addEventListener('click', () => {
            currentTrack = 0;
            playTrack();
        });

        function playTrack() {
            audioPlayer.src = audioList[currentTrack].url;
            audioPlayer.play();
            highlightPlayingTrack();
        }

        function highlightPlayingTrack() {
            const items = playlist.querySelectorAll('li');
            items.forEach(item => {
                item.classList.remove('playing');
            });
            items[currentTrack].classList.add('playing');
        }
    </script>

</body>
</html>
